require 'oauth2'

callback = "http://100.66.12.168:9090/"
app_id = "393e9a12c9b8fa3bd3e2534d14e07409001a195ad231ca0ae9f0c879ad12a16c"

secret = "3e16da69477a00f1b10ff62d9a5be7b683f9b23c27dcddfd71f1def5fa7b15e3"
client = OAuth2::Client.new(app_id, secret, site: "http://authorization-ptl-402e9b14-540bfe3a.libcurl.so/")
puts client.auth_code.authorize_url(redirect_uri: callback)
exit

code="[CODE]"
access = client.auth_code.get_token( code, redirect_uri: callback)
access.get("/api/user").parsed

puts access.token  
