require 'oauth2'

callback = "http://14.201.57.143:1337/"
app_id = "237ca3e4f93bc135cf7296c814eb6b5d23f6883e38cf21ddaa3751ce55e44e82"

secret = "f51513c82853b6a9889aecfcfa689ee76460c406828d4a7fbbda28cc48f30c65"
client = OAuth2::Client.new(app_id, secret, site: "http://authorization-ptl-1bccf0d7-029b4cd2.libcurl.so/")
puts client.auth_code.authorize_url(redirect_uri: callback)

code="17cfd2efa72be9bf35361093ea5e06904b3c23629afe7e1dfc8bc293e783e9a4"
access = client.auth_code.get_token( code, redirect_uri: callback)
access.get("/api/user").parsed

puts access.token
